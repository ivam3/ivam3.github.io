/*! VFM - veno file manager main administration functions
 * ================
 *
 * @Author  Nicola Franchini
 * @Support <http://www.veno.es>
 * @Email   <support@veno.it>
 * @version 3.6.0
 * @license Exclusively sold on CodeCanyon: https://codecanyon.net/item/veno-file-manager-host-and-share-files/6114247
 */
function switchExtensions(){$(".toggle-extensions").each(function(){$(this).find(".togglext").is(":checked")?($(this).closest(".toggle-extensions").next().slideDown(),$(this).find(".togglabel").addClass("bold")):($(this).closest(".toggle-extensions").next().slideUp(),$(this).find(".togglabel").removeClass("bold"))})}function multiselectWithOptions(e,t,s){$(".assignfolder").multiselect({buttonWidth:"100%",selectAllText:e,maxHeight:300,enableFiltering:!0,enableFilteringIfMoreThan:10,filterPlaceholder:"",includeSelectAllOption:!0,includeSelectAllIfMoreThan:10,numberDisplayed:1,nSelectedText:t,buttonContainer:'<div class="btn-group btn-block" />',nonSelectedText:s,templates:{filter:'<div class="input-group"><span class="input-group-addon input-sm"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search input-sm" type="text"></div>'}})}function showHideQuota(e){var t=e.closest(".row").find(".assignnew"),s=e.closest(".row").find(".assignfolder");t.val().length||s.val().length?e.closest(".row").next().find(".userquota").fadeIn():e.closest(".row").next().find(".userquota").fadeOut()}function updateSingleBar(e){$(".progress-single .progress-bar").removeClass().addClass("progress-bar").addClass(e)}function updateDefaultBar(e){$(".first-progress").data("color",e),$(".first-progress").next().find(".progress-bar").removeClass().addClass("progress-bar").addClass(e),$(".first-progress").is(":checked")&&updateSingleBar(e)}function checkFixedlabel(){var e=$(window).scrollTop(),t=$(".fixed-label").width();e>180?$(".fixed-label").css("right",0):$(".fixed-label").css("right",-t)}$(document).ready(function(){$(".regen-thumb").on("click",function(){var e=$(this),t=e.find(".place-icon");e.hasClass("disabled")||(e.addClass("disabled"),t.html(' <i class="fa fa-refresh fa-spin fa-fw"></i>'),$.ajax({method:"GET",url:"admin-panel/ajax/regen-thumbnails.php"}).done(function(t){e.find(".fa-spin").removeClass("fa-refresh").removeClass("fa-spin").addClass(t),"fa-check"!==t&&e.removeClass("disabled")}).fail(function(){e.find(".fa-spin").removeClass("fa-refresh").removeClass("fa-spin").addClass("fa-times"),e.removeClass("disabled")}))})}),$(".taginput").each(function(){var e=$(this).data("tag");$(this).tagsinput({tagClass:"label label-"+e,trimValue:!0,confirmKeys:[13,44,32]})}),$(document).on("click",".usrblock",function(e){e.preventDefault(),$("#modaluser .getuser").val("");var t="";$(this).find(".send-userdata").each(function(){var e=$(this).data("key");$("#modaluser .getuser-"+e).val($(this).val()),"name"===e&&(t=$(this).val())}),$("#modaluser .modal-title .modalusername").html(t),$("#r-userpassnew").val("");var s=[];$(this).find(".s-userfolders").each(function(){s.push($(this).val())}),$("#r-userfolders").val(s),$(".coolselect").multiselect("refresh"),$(".assignfolder").multiselect("refresh"),$("#r-userfolders").val()?$("#modaluser .userquota").show():$("#modaluser .userquota").hide()}),$(document).on("change",".assignfolder",function(){showHideQuota($(this))}),$(document).on("input",".assignnew",function(){showHideQuota($(this))}),$(document).on("click",".remove",function(e){var t=$(this).closest(".removegroup").find(".deleteme").val(),s=confirm("Are you sure you want to delete: "+t+"?");return 1==s&&$(".remove").find(".delme").val(t),s}),$(document).on("click",".delete",function(){return confirm("Are you sure you want entirely to delete this language?")}),$(document).on("click",".deletelogo",function(e){e.preventDefault(),$(this).addClass("hidden");var t=$(this).data("setting");$("input[name=remove_"+t+"]").val(1),$("."+t+"-preview").attr("src","admin-panel/images/placeholder.png")}),$(document).on("change",".btn-file :file",function(){var e=$(this),t=e.get(0).files?e.get(0).files.length:1,s=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[t,s])}),$(document).on("change",".audio-notif",function(){var e=$(this).val();new Audio(e).play()}),$(".newusermail").keyup(function(){$(this).val().length>0?$(".usernotif").fadeIn():$(".usernotif").fadeOut()}),$(document).on("change",".checkstats",function(){this.checked?$(this).closest(".info-box").addClass("bg-green").removeClass("bg-green-active"):$(this).closest(".info-box").addClass("bg-green-active").removeClass("bg-green")}),$(document).on("change",".checkregs",function(){this.checked?$(this).closest(".info-box").addClass("bg-aqua").removeClass("bg-aqua-active"):$(this).closest(".info-box").addClass("bg-aqua-active").removeClass("bg-aqua")}),$(document).on("change",".adminscheme input",function(){if($(".adminscheme input").each(function(){var e=$(this).val();$("body").removeClass("skin-"+e)}),$(".minilayout").removeClass("active"),this.checked){var e=$(this).val();$("body").addClass("skin-"+e),$(this).closest(".minilayout").addClass("active")}}),$(document).on("change",".select-logo-alignment input:radio",function(){var e="text-left";switch($(this).val()){case"left":e="text-left";break;case"center":e="text-center";break;case"right":e="text-right";break;default:e="text-left"}$(".place-main-header").removeClass("text-left").removeClass("text-center").removeClass("text-right").addClass(e)}),$(document).on("change",".select-banner-width input:radio",function(){var e="";switch($(this).val()){case"wide":e="";break;case"boxed":e="boxed";break;default:e=""}$(".wrap-image-header").removeClass("boxed").addClass(e)}),$(document).on("change",".togglext",function(){switchExtensions()}),$(document).on("change",".pro input:radio",function(){updateSingleBar($(this).data("color"))}),$(document).on("change",".skinswitch",function(){updateDefaultBar($(this).find(":selected").data("color"))}),$(window).scroll(function(e){checkFixedlabel()}),$(document).ready(function(){$(".fixed-label").removeClass("hidden").addClass("animated"),checkFixedlabel(),switchExtensions(),$(".slider").each(function(){var e=$(this),t=e.closest(".row").find(".set-slider input");e.slider(),t.on("change",function(){var t=$(this).val();e.slider("setValue",parseInt(t),!1,!0)})});var e=$("input[name=header_padding]").val();$(".place-main-header").css({"padding-top":e+"px","padding-bottom":e+"px"}),$(".header-padding").on("change",function(e){$(this).closest(".row").find(".set-slider input").val(e.value.newValue),$(".place-main-header").css({"padding-top":e.value.newValue+"px","padding-bottom":e.value.newValue+"px"})});var t=$("input[name=logo_margin]").val();$(".logo-preview").css({"margin-bottom":t+"px"}),$(".logo-margin").on("change",function(e){$(this).closest(".row").find(".set-slider input").val(e.value.newValue),$(".logo-preview").css({"margin-bottom":e.value.newValue+"px"})}),$(".logo-selector").on("change",function(){var e=$(this).prop("files")[0],t=$(this).data("target"),s=$(t),a=new FileReader;a.onloadend=function(){s.closest(".placeheader").find(".deletelogo").removeClass("hidden"),s.attr("src",a.result)},e?a.readAsDataURL(e):(s.closest(".placeheader").find(".deletelogo").addClass("hidden"),s.attr("src","admin-panel/images/placeholder.png"))}),$("#percent").change(function(){$(this).is(":checked")?$(".radio").addClass("fullp"):$(".radio").removeClass("fullp")}).change(),$(".toggle").each(function(){$(this).find("input[type=checkbox]").prop("checked")||$(this).closest(".toggle").next().slideToggle()}),$(".toggle").find("input[type=checkbox]").change(function(){$(this).closest(".toggle").next().length?$(this).closest(".toggle").next().slideToggle():$(this).closest(".toggle").parent(".toggle").next().slideToggle()}),$(".toggle-reverse").each(function(){$(this).find("input[type=checkbox]").prop("checked")&&$(this).closest(".toggle-reverse").prev().slideToggle()}),$(".toggle-reverse").find("input[type=checkbox]").change(function(){$(this).closest(".toggle-reverse").prev().slideToggle()}),$(".toggle-reverse-next").each(function(){$(this).find("input[type=checkbox]").prop("checked")&&$(this).closest(".toggle-reverse-next").next().slideToggle()}),$(".toggle-reverse-next").find("input[type=checkbox]").change(function(){$(this).closest(".toggle-reverse-next").next().slideToggle()}),$(".tooltipper").tooltip(),$(".pop").popover(),$(".pop").popover(),$(".btn-file :file").on("fileselect",function(e,t,s){$(this).parents(".input-group").find(":text").val(s)});var s=!1;$(".assignnew").on("propertychange",function(e){if("value"==e.originalEvent.propertyName){var t=$(this).closest(".row").find(".assignfolder");$(this).val()||t.val()?$(this).closest(".row").next().find(".userquota").fadeIn():$(this).closest(".row").next().find(".userquota").fadeOut()}}),$(".assignnew").on("input",function(){s||($(".assignnew").unbind("propertychange"),s=!0);var e=$(this).closest(".row").find(".assignfolder");$(this).val()||e.val()?$(this).closest(".row").next().find(".userquota").fadeIn():$(this).closest(".row").next().find(".userquota").fadeOut()}),$("#newuserpanel .userquota").hide(),$(".cooldrop, .assignfolder").click(function(){$(".cooldropgroup").css("z-index","99"),$(this).closest(".cooldropgroup").css("z-index","100")}),$(".coolselect").multiselect({buttonWidth:"100%",buttonContainer:'<div class="btn-group btn-block" />'}),$(".summernote").summernote({height:100,minHeight:20,maxHeight:200,toolbar:[["style",["bold","italic","underline"]],["para",["paragraph"]],["inset",["link"]],["misc",["codeview"]]]}),$(".checkstats").prop("checked")?$(".checkstats").closest(".info-box").addClass("bg-green").removeClass("bg-green-active"):$(".checkstats").closest(".info-box").addClass("bg-green-active").removeClass("bg-green"),$(".checkregs").prop("checked")?$(".checkregs").closest(".info-box").addClass("bg-aqua").removeClass("bg-aqua-active"):$(".checkregs").closest(".info-box").addClass("bg-aqua-active").removeClass("bg-aqua"),$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if((e=e.length?e:$("[name="+this.hash.slice(1)+"]")).length)return $("html,body").animate({scrollTop:e.offset().top},800),!1}})});
